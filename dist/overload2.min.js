(function(t,e){var n,r=function y(t,e,n){if(!e)e=Error;var r=function(r){this.name="OVERLOAD2."+t;if(n){n.apply(this,arguments)}else{this.message=r}var a=new e;this.stack=[this.name+": "+this.message].concat(a.stack.split("\n").slice(2)).join("\n")};r.prototype=Object.create(e.prototype);r.prototype.consturctor=r;r.prototype.toString=r.prototype.valueOf=function(){return"["+this.name+": "+this.message+"]"};Object.defineProperty(r,"name",{value:t});return r},a={Generic:r("Error"),Arguments:r("ArgumentsError",TypeError,function(t,e){this.message=t+" argument(s) expected but actual "+e}),Type:r("TypeError",TypeError,function(t,e,n){this.message=t+" must be "+(typeof e=="string"?e:e.join(" | "))+": "+n}),Range:r("RangeError",RangeError,function(t,e,n){if(e instanceof Array){e=e.join(" | ")}this.message=t+" must be "+e+": "+n}),NotImplemented:r("EmptyException"),Unmatching:r("UnmatchingException",TypeError)},o=function(t){function e(e){return t.apply(this,e)}e.prototype=t.prototype;return function(){return new e(arguments)}},i=function(t,e){return t.indexOf(e)>=0};function s(t){if(arguments.length!=1){throw new a.Arguments(1,arguments.length)}if(!(typeof t=="function"||t instanceof RegExp)){throw new a.Type("Type matcher",["Function","RegExp"],t)}if(!(this instanceof s))return new s(t);if(t instanceof RegExp)this.match=function(e){return t.test(e)};else this.match=t}function u(){if(arguments.length==0){throw new a.Arguments("1+",0)}if(arguments.length==1&&arguments[0]instanceof u){return arguments[0]}var t=arguments[0],e=[];if(typeof t=="string"){e=t.trim().split(/\s+/);t=e.shift();var n=g[t];if(!n){throw new a.Range("type alias",Object.keys(g),t)}t=n}else if(t instanceof s){}else if(typeof t=="function"){t=function(t){return new s(function(e){return e instanceof t})}(t)}else{throw new a.Type("Param type",["overload2.Type","string","Function"],t)}this.type=t;var r=["NULL","UNDEFINED"];for(var o=1;o<arguments.length;o++){e=e.concat(arguments[o].trim().split(/\s+/))}for(var o=0;o<e.length;o++){var f=e[o];e[o]=e[o].toUpperCase();if(!i(r,e[o])){throw new a.Range("param decorator",r,f)}}this.nil=i(e,"null");this.undef=i(e,"undefined")}u.parse=o(u);u.prototype.satisfy=function(t){if(t===null&&this.nil)return true;if(t===e&&this.undef)return true;return this.type.match(t)};function f(){var t=[];for(var e=0,n;e<arguments.length;e++){n=arguments[e]instanceof Array?arguments[e]:[arguments[e]];t[e]=u.parse.apply(null,n)}this.length=t.length;this.item=function(e){return t[e]}}f.parse=o(f);f.prototype.satisfy=function(t){if(t.length!=this.length){return false}var e=true;for(var n=0;e&&n<this.length;n++){e=this.item(n).satisfy(t[n])}return e};function p(){if(arguments.length==0){throw new a.Arguments("1+",0)}var t=Array.from(arguments);var e=t.pop();if(typeof e=="function"){this.method=e}else{throw new a.Generic("overloading implementation function missed")}if(typeof t[0]=="number"){if(t.length>1){throw new a.Arguments(2,t.length+1)}this.paramCount=t[0]}else if(t[0]instanceof f){if(t.length>1){throw new a.Arguments(2,t.length+1)}this.params=t[0]}else{this.params=f.parse.apply(null,t)}}p.parse=o(p);p.prototype.exec=function(t,e){if(typeof this.paramCount=="number"&&e.length!=this.paramCount){return false}if(this.params&&!this.params.satisfy(e)){return false}return[this.method.apply(t,e)]};function l(){if(!(this instanceof l))return new l;this._defaultMethod=null;this._overloads=[]}l.prototype.exec=function(){return this.apply(this,arguments)};l.prototype.apply=function(t,e){if(this._overloads.length==0){throw new a.NotImplemented}for(var n=0,r;n<this._overloads.length;n++){r=this._overloads[n].exec(t,e);if(r){return r[0]}}if(this._defaultMethod){return this.defaultMethod.apply(t,e)}throw new a.Unmatching("Unmatching arguments: "+e)};l.prototype.call=function(t){var e=Array.from(arguments);return this.apply(t,e.slice(1))};l.prototype.overload=function(){var t;if(arguments[0]instanceof p){t=arguments[0];if(arguments[1]){this._defaultMethod=t.method}if(arguments.length>2){console.warn("redundant arguments found")}}else{t=p.parse.apply(null,arguments)}this._overloads.push(t);return this};l.prototype.default=function(t){if(typeof t!="function"){throw new a.Generic("invalid default method")}if(arguments.length>1){console.warn("redundant arguments found")}this._defaultMethod=t};function h(){var t=new l;var e=function(e){t.overload.apply(t,e)};var n=function(e,n){var r;if(e[0]instanceof p){r=e[0]}else{r=p.parse.apply(null,e)}t.overload(r);if(n){t.defaultMethod=r.method}};if(arguments.length){}var r=function(){return t.apply(this,arguments)};r.overload=function(){e(arguments);return r};r.default=function(e){t.default(e);return r};return r}h.ANY=new s(function(t){return true});h.BOOLEAN=new s(function(t){return typeof t=="boolean"});h.CHAR=new s(function(t){return typeof t=="string"&&t.length==1});h.NUMBER=new s(function(t){return typeof t=="number"});h.SCALAR=new s(function(t){return["boolean","number","string"].indexOf(typeof t)>=0});h.STRING=new s(function(t){return typeof t=="string"});h.enum=function(){var t=[];for(var e=0;e<arguments.length;e++){t.push(arguments[e])}return new s(function(e){return t.indexOf(e)>=0})};h.Type=s;h.type=s;h.parseType=s;h.Param=u;h.param=u.parse;h.parseParam=u.parse;h.ParamList=f;h.paramList=f.parse;h.parseParamList=f.parse;h.Overload=p;h.overload=p.parse;h.parseOverload=p.parse;h.Function=l;h.createFunction=l;for(var c in a){if(a.hasOwnProperty(c)){var m=a[c];h[m.name]=m}}var g={"*":h.ANY,any:h.ANY,"boolean":h.BOOLEAN,"char":h.CHAR,number:h.NUMBER,scalar:h.SCALAR,string:h.STRING};if(typeof module=="object"&&typeof module.exports=="object"){module.exports=h}else if(typeof define=="function"){define(function(){return h})}else{t.overload2=h}})(this);
//# sourceMappingURL=overload2.map